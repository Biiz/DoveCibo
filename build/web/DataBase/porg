--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.10
-- Dumped by pg_dump version 9.3.10
-- Started on 2016-07-18 18:55:44 CEST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 190 (class 3079 OID 11791)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2131 (class 0 OID 0)
-- Dependencies: 190
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 178 (class 1259 OID 16881)
-- Name: coordinates; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE coordinates (
    id_resturant integer NOT NULL,
    latitude double precision NOT NULL,
    longitude double precision NOT NULL,
    address character varying(255) NOT NULL
);


ALTER TABLE public.coordinates OWNER TO postgres;

--
-- TOC entry 177 (class 1259 OID 16879)
-- Name: coordinates_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE coordinates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.coordinates_id_seq OWNER TO postgres;

--
-- TOC entry 2132 (class 0 OID 0)
-- Dependencies: 177
-- Name: coordinates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE coordinates_id_seq OWNED BY coordinates.id_resturant;


--
-- TOC entry 183 (class 1259 OID 16929)
-- Name: cuisines; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE cuisines (
    id integer NOT NULL,
    name character varying(25) NOT NULL
);


ALTER TABLE public.cuisines OWNER TO postgres;

--
-- TOC entry 182 (class 1259 OID 16927)
-- Name: cuisines_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE cuisines_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.cuisines_id_seq OWNER TO postgres;

--
-- TOC entry 2133 (class 0 OID 0)
-- Dependencies: 182
-- Name: cuisines_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE cuisines_id_seq OWNED BY cuisines.id;


--
-- TOC entry 181 (class 1259 OID 16912)
-- Name: opening_hours_range_restaurant; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE opening_hours_range_restaurant (
    id_restaurant integer NOT NULL,
    id_opening_hours_range integer NOT NULL
);


ALTER TABLE public.opening_hours_range_restaurant OWNER TO postgres;

--
-- TOC entry 180 (class 1259 OID 16904)
-- Name: opening_hours_ranges; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE opening_hours_ranges (
    id integer NOT NULL,
    day_of_the_week integer,
    start_hour time without time zone NOT NULL,
    end_hour time without time zone NOT NULL,
    CONSTRAINT day_of_the_week_check CHECK (((day_of_the_week >= 1) AND (day_of_the_week <= 7))),
    CONSTRAINT range_check CHECK ((start_hour < end_hour))
);


ALTER TABLE public.opening_hours_ranges OWNER TO postgres;

--
-- TOC entry 179 (class 1259 OID 16902)
-- Name: opening_hours_ranges_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE opening_hours_ranges_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.opening_hours_ranges_id_seq OWNER TO postgres;

--
-- TOC entry 2134 (class 0 OID 0)
-- Dependencies: 179
-- Name: opening_hours_ranges_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE opening_hours_ranges_id_seq OWNED BY opening_hours_ranges.id;


--
-- TOC entry 176 (class 1259 OID 16860)
-- Name: photos; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE photos (
    id integer NOT NULL,
    name character varying(25) NOT NULL,
    description character varying(32000),
    path character varying(255) NOT NULL,
    id_restaurant integer NOT NULL,
    id_owner integer NOT NULL,
    validation integer
);


ALTER TABLE public.photos OWNER TO postgres;

--
-- TOC entry 175 (class 1259 OID 16858)
-- Name: photos_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE photos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.photos_id_seq OWNER TO postgres;

--
-- TOC entry 2135 (class 0 OID 0)
-- Dependencies: 175
-- Name: photos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE photos_id_seq OWNED BY photos.id;


--
-- TOC entry 171 (class 1259 OID 16810)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE users (
    id integer NOT NULL,
    name character varying(255),
    surname character varying(255),
    nickname character varying(25),
    email character varying(254) NOT NULL,
    password character varying(255) NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 170 (class 1259 OID 16808)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO postgres;

--
-- TOC entry 2136 (class 0 OID 0)
-- Dependencies: 170
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- TOC entry 172 (class 1259 OID 16823)
-- Name: price_ranges; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE price_ranges (
    id integer DEFAULT nextval('users_id_seq'::regclass) NOT NULL,
    name character varying(25) NOT NULL,
    min_value double precision,
    max_value double precision,
    CONSTRAINT price_range_check CHECK (((((min_value IS NULL) AND (max_value IS NOT NULL)) OR ((min_value IS NOT NULL) AND (max_value IS NULL))) OR (min_value < max_value)))
);


ALTER TABLE public.price_ranges OWNER TO postgres;

--
-- TOC entry 188 (class 1259 OID 16984)
-- Name: replies; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE replies (
    id integer NOT NULL,
    description character varying(32000) NOT NULL,
    date_creation timestamp without time zone DEFAULT now() NOT NULL,
    id_review integer NOT NULL,
    id_owner integer NOT NULL,
    date_validation timestamp without time zone,
    id_validator integer
);


ALTER TABLE public.replies OWNER TO postgres;

--
-- TOC entry 187 (class 1259 OID 16982)
-- Name: replies_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE replies_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.replies_id_seq OWNER TO postgres;

--
-- TOC entry 2137 (class 0 OID 0)
-- Dependencies: 187
-- Name: replies_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE replies_id_seq OWNED BY replies.id;


--
-- TOC entry 184 (class 1259 OID 16935)
-- Name: restaurant_cuisine; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE restaurant_cuisine (
    id_restaurant integer NOT NULL,
    id_cuisine integer NOT NULL
);


ALTER TABLE public.restaurant_cuisine OWNER TO postgres;

--
-- TOC entry 174 (class 1259 OID 16833)
-- Name: restaurants; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE restaurants (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    description character varying(32000),
    web_site_url character varying(255),
    global_value integer,
    id_owner integer,
    id_creator integer NOT NULL,
    id_price_range integer,
    CONSTRAINT global_value_check CHECK (((global_value >= 0) AND (global_value <= 5)))
);


ALTER TABLE public.restaurants OWNER TO postgres;

--
-- TOC entry 173 (class 1259 OID 16831)
-- Name: restaurants_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE restaurants_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.restaurants_id_seq OWNER TO postgres;

--
-- TOC entry 2138 (class 0 OID 0)
-- Dependencies: 173
-- Name: restaurants_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE restaurants_id_seq OWNED BY restaurants.id;


--
-- TOC entry 186 (class 1259 OID 16952)
-- Name: reviews; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE reviews (
    id integer NOT NULL,
    global_value integer NOT NULL,
    food integer,
    service integer,
    value_for_money integer,
    atmosphere integer,
    name character varying(25),
    description character varying(32000),
    date_creation timestamp without time zone DEFAULT now() NOT NULL,
    id_restaurant integer NOT NULL,
    id_creator integer NOT NULL,
    id_photo integer,
    validation integer,
    CONSTRAINT review_atmosphere_check CHECK (((atmosphere IS NULL) OR ((atmosphere >= 1) AND (atmosphere <= 5)))),
    CONSTRAINT review_food_check CHECK (((food IS NULL) OR ((food >= 1) AND (food <= 5)))),
    CONSTRAINT review_global_value_check CHECK (((global_value >= 1) AND (global_value <= 5))),
    CONSTRAINT review_service_check CHECK (((service IS NULL) OR ((service >= 1) AND (service <= 5)))),
    CONSTRAINT review_value_for_money_check CHECK (((value_for_money IS NULL) OR ((value_for_money >= 1) AND (value_for_money <= 5))))
);


ALTER TABLE public.reviews OWNER TO postgres;

--
-- TOC entry 185 (class 1259 OID 16950)
-- Name: reviews_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE reviews_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.reviews_id_seq OWNER TO postgres;

--
-- TOC entry 2139 (class 0 OID 0)
-- Dependencies: 185
-- Name: reviews_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE reviews_id_seq OWNED BY reviews.id;


--
-- TOC entry 189 (class 1259 OID 17009)
-- Name: user_review_likes; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE user_review_likes (
    id_user integer NOT NULL,
    id_review integer NOT NULL,
    id_creator integer NOT NULL,
    like_type integer NOT NULL,
    date_creation timestamp without time zone DEFAULT now() NOT NULL,
    CONSTRAINT like_type_check CHECK (((like_type >= 0) AND (like_type <= 1)))
);


ALTER TABLE public.user_review_likes OWNER TO postgres;

--
-- TOC entry 1932 (class 2604 OID 16884)
-- Name: id_resturant; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY coordinates ALTER COLUMN id_resturant SET DEFAULT nextval('coordinates_id_seq'::regclass);


--
-- TOC entry 1936 (class 2604 OID 16932)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY cuisines ALTER COLUMN id SET DEFAULT nextval('cuisines_id_seq'::regclass);


--
-- TOC entry 1933 (class 2604 OID 16907)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opening_hours_ranges ALTER COLUMN id SET DEFAULT nextval('opening_hours_ranges_id_seq'::regclass);


--
-- TOC entry 1931 (class 2604 OID 16863)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY photos ALTER COLUMN id SET DEFAULT nextval('photos_id_seq'::regclass);


--
-- TOC entry 1944 (class 2604 OID 16987)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY replies ALTER COLUMN id SET DEFAULT nextval('replies_id_seq'::regclass);


--
-- TOC entry 1929 (class 2604 OID 16836)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurants ALTER COLUMN id SET DEFAULT nextval('restaurants_id_seq'::regclass);


--
-- TOC entry 1937 (class 2604 OID 16955)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY reviews ALTER COLUMN id SET DEFAULT nextval('reviews_id_seq'::regclass);


--
-- TOC entry 1926 (class 2604 OID 16813)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- TOC entry 2112 (class 0 OID 16881)
-- Dependencies: 178
-- Data for Name: coordinates; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY coordinates (id_resturant, latitude, longitude, address) FROM stdin;
\.


--
-- TOC entry 2140 (class 0 OID 0)
-- Dependencies: 177
-- Name: coordinates_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('coordinates_id_seq', 1, false);


--
-- TOC entry 2117 (class 0 OID 16929)
-- Dependencies: 183
-- Data for Name: cuisines; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY cuisines (id, name) FROM stdin;
\.


--
-- TOC entry 2141 (class 0 OID 0)
-- Dependencies: 182
-- Name: cuisines_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('cuisines_id_seq', 1, false);


--
-- TOC entry 2115 (class 0 OID 16912)
-- Dependencies: 181
-- Data for Name: opening_hours_range_restaurant; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY opening_hours_range_restaurant (id_restaurant, id_opening_hours_range) FROM stdin;
7	99
7	100
7	101
7	102
7	103
7	104
7	105
8	106
8	107
8	108
8	109
8	110
8	111
8	112
9	113
9	114
9	115
9	116
9	117
9	118
9	119
10	120
10	121
10	122
10	123
10	124
10	125
10	126
6	92
6	93
6	94
6	95
6	96
6	97
6	98
\.


--
-- TOC entry 2114 (class 0 OID 16904)
-- Dependencies: 180
-- Data for Name: opening_hours_ranges; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY opening_hours_ranges (id, day_of_the_week, start_hour, end_hour) FROM stdin;
8	1	11:11:11	12:12:12
9	2	11:11:11	12:12:12
10	3	11:11:11	12:12:12
11	4	11:11:11	12:12:12
12	5	11:11:11	12:12:12
13	6	11:11:11	12:12:12
14	7	11:11:11	12:12:12
15	1	11:11:11	12:12:12
16	2	11:11:11	12:12:12
17	3	11:11:11	12:12:12
18	4	11:11:11	12:12:12
19	5	11:11:11	12:12:12
20	6	11:11:11	12:12:12
21	7	11:11:11	12:12:12
22	1	11:11:11	12:12:12
23	2	11:11:11	12:12:12
24	3	11:11:11	12:12:12
25	4	11:11:11	12:12:12
26	5	11:11:11	12:12:12
27	6	11:11:11	12:12:12
28	7	11:11:11	12:12:12
29	1	11:11:11	12:12:12
30	2	11:11:11	12:12:12
31	3	11:11:11	12:12:12
32	4	11:11:11	12:12:12
33	5	11:11:11	12:12:12
34	6	11:11:11	12:12:12
35	7	11:11:11	12:12:12
36	1	11:11:11	12:12:12
37	2	11:11:11	12:12:12
38	3	11:11:11	12:12:12
39	4	11:11:11	12:12:12
40	5	11:11:11	12:12:12
41	6	11:11:11	12:12:12
42	7	11:11:11	12:12:12
43	1	11:11:11	12:12:12
44	2	11:11:11	12:12:12
45	3	11:11:11	12:12:12
46	4	11:11:11	12:12:12
47	5	11:11:11	12:12:12
48	6	11:11:11	12:12:12
49	7	11:11:11	12:12:12
50	1	11:11:11	12:12:12
51	2	11:11:11	12:12:12
52	3	11:11:11	12:12:12
53	4	11:11:11	12:12:12
54	5	11:11:11	12:12:12
55	6	11:11:11	12:12:12
56	7	11:11:11	12:12:12
57	1	11:11:11	12:12:12
58	2	11:11:11	12:12:12
59	3	11:11:11	12:12:12
60	4	11:11:11	12:12:12
61	5	11:11:11	12:12:12
62	6	11:11:11	12:12:12
63	7	11:11:11	12:12:12
64	1	11:11:11	12:12:12
65	2	11:11:11	12:12:12
66	3	11:11:11	12:12:12
67	4	11:11:11	12:12:12
68	5	11:11:11	12:12:12
69	6	11:11:11	12:12:12
70	7	11:11:11	12:12:12
71	1	11:11:11	12:12:12
72	2	11:11:11	12:12:12
73	3	11:11:11	12:12:12
74	4	11:11:11	12:12:12
75	5	11:11:11	12:12:12
76	6	11:11:11	12:12:12
77	7	11:11:11	12:12:12
78	1	11:11:11	12:12:12
79	2	11:11:11	12:12:12
80	3	11:11:11	12:12:12
81	4	11:11:11	12:12:12
82	5	11:11:11	12:12:12
83	6	11:11:11	12:12:12
84	7	11:11:11	12:12:12
85	1	11:11:11	12:12:12
86	2	11:11:11	12:12:12
87	3	11:11:11	12:12:12
88	4	11:11:11	12:12:12
89	5	11:11:11	12:12:12
90	6	11:11:11	12:12:12
91	7	11:11:11	12:12:12
92	1	11:11:11	12:12:12
93	2	11:11:11	12:12:12
94	3	11:11:11	12:12:12
95	4	11:11:11	12:12:12
96	5	11:11:11	12:12:12
97	6	11:11:11	12:12:12
98	7	11:11:11	12:12:12
99	1	11:11:11	12:12:12
100	2	11:11:11	12:12:12
101	3	11:11:11	12:12:12
102	4	11:11:11	12:12:12
103	5	11:11:11	12:12:12
104	6	11:11:11	12:12:12
105	7	11:11:11	12:12:12
106	1	11:11:11	12:12:12
107	2	11:11:11	12:12:12
108	3	11:11:11	12:12:12
109	4	11:11:11	12:12:12
110	5	11:11:11	12:12:12
111	6	11:11:11	12:12:12
112	7	11:11:11	12:12:12
113	1	11:11:11	12:12:12
114	2	11:11:11	12:12:12
115	3	11:11:11	12:12:12
116	4	11:11:11	12:12:12
117	5	11:11:11	12:12:12
118	6	11:11:11	12:12:12
119	7	11:11:11	12:12:12
120	1	11:11:11	12:12:12
121	2	11:11:11	12:12:12
122	3	11:11:11	12:12:12
123	4	11:11:11	12:12:12
124	5	11:11:11	12:12:12
125	6	11:11:11	12:12:12
126	7	11:11:11	12:12:12
\.


--
-- TOC entry 2142 (class 0 OID 0)
-- Dependencies: 179
-- Name: opening_hours_ranges_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('opening_hours_ranges_id_seq', 126, true);


--
-- TOC entry 2110 (class 0 OID 16860)
-- Dependencies: 176
-- Data for Name: photos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY photos (id, name, description, path, id_restaurant, id_owner, validation) FROM stdin;
1	p	bella	c:/pollo	9	4	\N
2	p	bella	c:/pollo	10	4	2
\.


--
-- TOC entry 2143 (class 0 OID 0)
-- Dependencies: 175
-- Name: photos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('photos_id_seq', 2, true);


--
-- TOC entry 2106 (class 0 OID 16823)
-- Dependencies: 172
-- Data for Name: price_ranges; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY price_ranges (id, name, min_value, max_value) FROM stdin;
0	masa	100	300
39	w	2	4
41	wddd	2	4
42	wdddhhh	2	4
44	dsfsd	2	4
45	dsfdsfsd	2	4
46	dsfdsffdddsd	2	4
57	dsfdsfsdffdddsd	2	4
\.


--
-- TOC entry 2122 (class 0 OID 16984)
-- Dependencies: 188
-- Data for Name: replies; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY replies (id, description, date_creation, id_review, id_owner, date_validation, id_validator) FROM stdin;
\.


--
-- TOC entry 2144 (class 0 OID 0)
-- Dependencies: 187
-- Name: replies_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('replies_id_seq', 2, true);


--
-- TOC entry 2118 (class 0 OID 16935)
-- Dependencies: 184
-- Data for Name: restaurant_cuisine; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY restaurant_cuisine (id_restaurant, id_cuisine) FROM stdin;
\.


--
-- TOC entry 2108 (class 0 OID 16833)
-- Dependencies: 174
-- Data for Name: restaurants; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY restaurants (id, name, description, web_site_url, global_value, id_owner, id_creator, id_price_range) FROM stdin;
2	l	dddd	www	2	4	4	0
6	lol	bel	wwwwww	\N	\N	4	0
7	lol	bel	wwwwww	\N	\N	4	0
8	lol	bel	wwwwww	\N	\N	4	0
9	lol	bel	wwwwww	\N	\N	4	0
10	lol	bel	wwwwww	\N	\N	4	0
\.


--
-- TOC entry 2145 (class 0 OID 0)
-- Dependencies: 173
-- Name: restaurants_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('restaurants_id_seq', 10, true);


--
-- TOC entry 2120 (class 0 OID 16952)
-- Dependencies: 186
-- Data for Name: reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY reviews (id, global_value, food, service, value_for_money, atmosphere, name, description, date_creation, id_restaurant, id_creator, id_photo, validation) FROM stdin;
\.


--
-- TOC entry 2146 (class 0 OID 0)
-- Dependencies: 185
-- Name: reviews_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('reviews_id_seq', 1, false);


--
-- TOC entry 2123 (class 0 OID 17009)
-- Dependencies: 189
-- Data for Name: user_review_likes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY user_review_likes (id_user, id_review, id_creator, like_type, date_creation) FROM stdin;
\.


--
-- TOC entry 2105 (class 0 OID 16810)
-- Dependencies: 171
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY users (id, name, surname, nickname, email, password) FROM stdin;
4	n	c	nik	p@l	1234567890
7	stefano	postal	sptanco	sptanco@gmail.com	1234567890
8					
16	jhk	jko	ioio	odsf@sdiu	1234567890
17	sd	dsa	sda	sda@sda	1234567890
23	rdfgh	xdcfvgbh	drcfvgbh	xrcfgvbh@rtyh	1234567890
24	qwe	wer	derftgh	sfsdfÃ²sdafsd@asdf	1234567890
26	qwesdf	werdsf	derftghsdf	sfsdfÃ²sdafsd@asdfdfs	1234567890
28	qwesdfd	werdsfd	derftghsdfd	sfsdfÃ²sdafsd@asdfdfsd	1234567890
29	sda	asd	dd	s@s	1234567890
30	sdax	asdx	ddxc	s@sx	1234567890
31	asd	xc	xx	asd@jfh	1234567890
36	Stefano2	Postal2	me2	me@lol.org2	1234567890
33	Stef555ano	Post55555555al	me	me@lol.org	1234567890
37	w	w	w	w@w	1234567890
\.


--
-- TOC entry 2147 (class 0 OID 0)
-- Dependencies: 170
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('users_id_seq', 66, true);


--
-- TOC entry 1963 (class 2606 OID 16886)
-- Name: coordinates_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY coordinates
    ADD CONSTRAINT coordinates_pkey PRIMARY KEY (id_resturant);


--
-- TOC entry 1969 (class 2606 OID 16934)
-- Name: cuisines_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY cuisines
    ADD CONSTRAINT cuisines_pkey PRIMARY KEY (id);


--
-- TOC entry 1967 (class 2606 OID 16916)
-- Name: opening_hours_range_restaurant_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY opening_hours_range_restaurant
    ADD CONSTRAINT opening_hours_range_restaurant_pkey PRIMARY KEY (id_restaurant, id_opening_hours_range);


--
-- TOC entry 1965 (class 2606 OID 16911)
-- Name: opening_hours_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY opening_hours_ranges
    ADD CONSTRAINT opening_hours_ranges_pkey PRIMARY KEY (id);


--
-- TOC entry 1961 (class 2606 OID 16868)
-- Name: photos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY photos
    ADD CONSTRAINT photos_pkey PRIMARY KEY (id);


--
-- TOC entry 1955 (class 2606 OID 16830)
-- Name: price_ranges_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY price_ranges
    ADD CONSTRAINT price_ranges_name_key UNIQUE (name);


--
-- TOC entry 1957 (class 2606 OID 16828)
-- Name: price_ranges_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY price_ranges
    ADD CONSTRAINT price_ranges_pkey PRIMARY KEY (id);


--
-- TOC entry 1975 (class 2606 OID 16993)
-- Name: replies_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY replies
    ADD CONSTRAINT replies_pkey PRIMARY KEY (id);


--
-- TOC entry 1971 (class 2606 OID 16939)
-- Name: restaurant_cuisine_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY restaurant_cuisine
    ADD CONSTRAINT restaurant_cuisine_pkey PRIMARY KEY (id_restaurant, id_cuisine);


--
-- TOC entry 1959 (class 2606 OID 16842)
-- Name: restaurants_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY restaurants
    ADD CONSTRAINT restaurants_pkey PRIMARY KEY (id);


--
-- TOC entry 1973 (class 2606 OID 16966)
-- Name: reviews_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY reviews
    ADD CONSTRAINT reviews_pkey PRIMARY KEY (id);


--
-- TOC entry 1977 (class 2606 OID 17015)
-- Name: user_review_likes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY user_review_likes
    ADD CONSTRAINT user_review_likes_pkey PRIMARY KEY (id_user, id_review, id_creator);


--
-- TOC entry 1949 (class 2606 OID 16822)
-- Name: users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 1951 (class 2606 OID 16820)
-- Name: users_nickname_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_nickname_key UNIQUE (nickname);


--
-- TOC entry 1953 (class 2606 OID 16818)
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 1985 (class 2606 OID 16922)
-- Name: opening_hours_range_restaurant_id_opening_hours_range_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opening_hours_range_restaurant
    ADD CONSTRAINT opening_hours_range_restaurant_id_opening_hours_range_fkey FOREIGN KEY (id_opening_hours_range) REFERENCES opening_hours_ranges(id);


--
-- TOC entry 1984 (class 2606 OID 16917)
-- Name: opening_hours_range_restaurant_id_restaurant_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opening_hours_range_restaurant
    ADD CONSTRAINT opening_hours_range_restaurant_id_restaurant_fkey FOREIGN KEY (id_restaurant) REFERENCES restaurants(id);


--
-- TOC entry 1982 (class 2606 OID 16874)
-- Name: photos_id_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY photos
    ADD CONSTRAINT photos_id_owner_fkey FOREIGN KEY (id_owner) REFERENCES users(id);


--
-- TOC entry 1981 (class 2606 OID 16869)
-- Name: photos_id_restaurant_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY photos
    ADD CONSTRAINT photos_id_restaurant_fkey FOREIGN KEY (id_restaurant) REFERENCES restaurants(id);


--
-- TOC entry 1992 (class 2606 OID 16999)
-- Name: replies_id_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY replies
    ADD CONSTRAINT replies_id_owner_fkey FOREIGN KEY (id_owner) REFERENCES users(id);


--
-- TOC entry 1991 (class 2606 OID 16994)
-- Name: replies_id_review_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY replies
    ADD CONSTRAINT replies_id_review_fkey FOREIGN KEY (id_review) REFERENCES reviews(id);


--
-- TOC entry 1993 (class 2606 OID 17004)
-- Name: replies_id_validator_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY replies
    ADD CONSTRAINT replies_id_validator_fkey FOREIGN KEY (id_validator) REFERENCES users(id);


--
-- TOC entry 1987 (class 2606 OID 16945)
-- Name: restaurant_cuisine_id_cuisine_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurant_cuisine
    ADD CONSTRAINT restaurant_cuisine_id_cuisine_fkey FOREIGN KEY (id_cuisine) REFERENCES cuisines(id);


--
-- TOC entry 1986 (class 2606 OID 16940)
-- Name: restaurant_cuisine_id_restaurant_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurant_cuisine
    ADD CONSTRAINT restaurant_cuisine_id_restaurant_fkey FOREIGN KEY (id_restaurant) REFERENCES restaurants(id);


--
-- TOC entry 1979 (class 2606 OID 16848)
-- Name: restaurants_id_creator_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurants
    ADD CONSTRAINT restaurants_id_creator_fkey FOREIGN KEY (id_creator) REFERENCES users(id);


--
-- TOC entry 1978 (class 2606 OID 16843)
-- Name: restaurants_id_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurants
    ADD CONSTRAINT restaurants_id_owner_fkey FOREIGN KEY (id_owner) REFERENCES users(id);


--
-- TOC entry 1980 (class 2606 OID 16853)
-- Name: restaurants_id_price_range_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY restaurants
    ADD CONSTRAINT restaurants_id_price_range_fkey FOREIGN KEY (id_price_range) REFERENCES price_ranges(id);


--
-- TOC entry 1983 (class 2606 OID 17032)
-- Name: resturant_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY coordinates
    ADD CONSTRAINT resturant_id FOREIGN KEY (id_resturant) REFERENCES users(id);


--
-- TOC entry 1989 (class 2606 OID 16972)
-- Name: reviews_id_creator_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY reviews
    ADD CONSTRAINT reviews_id_creator_fkey FOREIGN KEY (id_creator) REFERENCES users(id);


--
-- TOC entry 1990 (class 2606 OID 16977)
-- Name: reviews_id_photo_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY reviews
    ADD CONSTRAINT reviews_id_photo_fkey FOREIGN KEY (id_photo) REFERENCES photos(id);


--
-- TOC entry 1988 (class 2606 OID 16967)
-- Name: reviews_id_restaurant_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY reviews
    ADD CONSTRAINT reviews_id_restaurant_fkey FOREIGN KEY (id_restaurant) REFERENCES restaurants(id);


--
-- TOC entry 1996 (class 2606 OID 17026)
-- Name: user_review_likes_id_creator_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY user_review_likes
    ADD CONSTRAINT user_review_likes_id_creator_fkey FOREIGN KEY (id_creator) REFERENCES users(id);


--
-- TOC entry 1995 (class 2606 OID 17021)
-- Name: user_review_likes_id_review_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY user_review_likes
    ADD CONSTRAINT user_review_likes_id_review_fkey FOREIGN KEY (id_review) REFERENCES reviews(id);


--
-- TOC entry 1994 (class 2606 OID 17016)
-- Name: user_review_likes_id_user_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY user_review_likes
    ADD CONSTRAINT user_review_likes_id_user_fkey FOREIGN KEY (id_user) REFERENCES users(id);


--
-- TOC entry 2130 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2016-07-18 18:55:44 CEST

--
-- PostgreSQL database dump complete
--

